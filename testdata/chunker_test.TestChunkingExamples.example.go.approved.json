{
  "file": "example.go",
  "language": "go",
  "chunks": [
    {
      "Content": "package main\n\nimport (\n\t\"encoding/json\"\n\t\"log\"\n\t\"net/http\"\n\t\"time\"\n)\n\n// Server represents an HTTP server with routing capabilities\ntype Server struct {\n\taddr    string\n\trouter  *http.ServeMux\n\tlogger  *log.Logger\n\ttimeout time.Duration\n}\n\n// NewServer creates a new server instance",
      "StartLine": 1,
      "EndLine": 18,
      "StartByte": 0,
      "EndByte": 282,
      "NodeTypes": [
        "comment",
        "field_declaration",
        "field_declaration_list",
        "field_identifier",
        "import",
        "import_declaration",
        "import_spec",
        "import_spec_list",
        "interpreted_string_literal",
        "package",
        "package_clause",
        "package_identifier",
        "pointer_type",
        "qualified_type",
        "struct",
        "struct_type",
        "type",
        "type_declaration",
        "type_identifier",
        "type_spec"
      ],
      "Language": "go"
    },
    {
      "Content": "func NewServer(addr string, timeout time.Duration) *Server {\n\treturn \u0026Server{\n\t\taddr:    addr,\n\t\trouter:  http.NewServeMux(),\n\t\tlogger:  log.Default(),\n\t\ttimeout: timeout,\n\t}\n}\n\n// RegisterRoutes sets up all HTTP routes\nfunc (s *Server) RegisterRoutes() {\n\ts.router.HandleFunc(\"/health\", s.handleHealth)\n\ts.router.HandleFunc(\"/api/users\", s.handleUsers)\n\ts.router.HandleFunc(\"/api/users/\", s.handleUserByID)\n}\n\n// handleHealth returns server health status",
      "StartLine": 19,
      "EndLine": 35,
      "StartByte": 283,
      "EndByte": 738,
      "NodeTypes": [
        "argument_list",
        "block",
        "call_expression",
        "comment",
        "composite_literal",
        "expression_list",
        "expression_statement",
        "field_identifier",
        "func",
        "function_declaration",
        "identifier",
        "interpreted_string_literal",
        "keyed_element",
        "literal_element",
        "literal_value",
        "method_declaration",
        "package_identifier",
        "parameter_declaration",
        "parameter_list",
        "pointer_type",
        "qualified_type",
        "return",
        "return_statement",
        "selector_expression",
        "type_identifier",
        "unary_expression"
      ],
      "Language": "go"
    },
    {
      "Content": "func (s *Server) handleHealth(w http.ResponseWriter, r *http.Request) {\n\tif r.Method != http.MethodGet {\n\t\thttp.Error(w, \"Method not allowed\", http.StatusMethodNotAllowed)\n\t\treturn\n\t}\n\n\tresponse := map[string]interface{}{\n\t\t\"status\": \"healthy\",\n\t\t\"time\":   time.Now().Unix(),\n\t}\n\n\tw.Header().Set(\"Content-Type\", \"application/json\")\n\tjson.NewEncoder(w).Encode(response)\n}\n\n// handleUsers handles listing all users",
      "StartLine": 36,
      "EndLine": 51,
      "StartByte": 739,
      "EndByte": 1151,
      "NodeTypes": [
        "argument_list",
        "binary_expression",
        "block",
        "call_expression",
        "comment",
        "composite_literal",
        "expression_list",
        "expression_statement",
        "field_identifier",
        "func",
        "identifier",
        "if",
        "if_statement",
        "interface",
        "interface_type",
        "interpreted_string_literal",
        "keyed_element",
        "literal_element",
        "literal_value",
        "map",
        "map_type",
        "method_declaration",
        "package_identifier",
        "parameter_declaration",
        "parameter_list",
        "pointer_type",
        "qualified_type",
        "return",
        "return_statement",
        "selector_expression",
        "short_var_declaration",
        "type_identifier"
      ],
      "Language": "go"
    },
    {
      "Content": "func (s *Server) handleUsers(w http.ResponseWriter, r *http.Request)",
      "StartLine": 52,
      "EndLine": 52,
      "StartByte": 1152,
      "EndByte": 1220,
      "NodeTypes": [
        "field_identifier",
        "func",
        "identifier",
        "package_identifier",
        "parameter_declaration",
        "parameter_list",
        "pointer_type",
        "qualified_type",
        "type_identifier"
      ],
      "Language": "go"
    },
    {
      "Content": "{\n\tswitch r.Method {\n\tcase http.MethodGet:\n\t\tusers := []map[string]string{\n\t\t\t{\"id\": \"1\", \"name\": \"Alice\"},\n\t\t\t{\"id\": \"2\", \"name\": \"Bob\"},\n\t\t}\n\t\tw.Header().Set(\"Content-Type\", \"application/json\")\n\t\tjson.NewEncoder(w).Encode(users)\n\n\tcase http.MethodPost:\n\t\tvar user map[string]string\n\t\tif err := json.NewDecoder(r.Body).Decode(\u0026user); err != nil {\n\t\t\thttp.Error(w, \"Invalid request body\", http.StatusBadRequest)\n\t\t\treturn\n\t\t}\n\t\tw.WriteHeader(http.StatusCreated)\n\t\tjson.NewEncoder(w).Encode(user)\n\n\tdefault:\n\t\thttp.Error(w, \"Method not allowed\", http.StatusMethodNotAllowed)\n\t}\n",
      "StartLine": 52,
      "EndLine": 74,
      "StartByte": 1221,
      "EndByte": 1798,
      "NodeTypes": [
        "argument_list",
        "binary_expression",
        "block",
        "call_expression",
        "case",
        "composite_literal",
        "default",
        "default_case",
        "expression_case",
        "expression_list",
        "expression_statement",
        "expression_switch_statement",
        "field_identifier",
        "identifier",
        "if",
        "if_statement",
        "interpreted_string_literal",
        "keyed_element",
        "literal_element",
        "literal_value",
        "map",
        "map_type",
        "nil",
        "return",
        "return_statement",
        "selector_expression",
        "short_var_declaration",
        "slice_type",
        "switch",
        "type_identifier",
        "unary_expression",
        "var",
        "var_declaration",
        "var_spec"
      ],
      "Language": "go"
    },
    {
      "Content": "}",
      "StartLine": 74,
      "EndLine": 74,
      "StartByte": 1798,
      "EndByte": 1799,
      "NodeTypes": [],
      "Language": "go"
    },
    {
      "Content": "\n\n// handleUserByID handles operations on individual users\nfunc (s *Server) handleUserByID(w http.ResponseWriter, r *http.Request) {\n\tid := r.URL.Path[len(\"/api/users/\"):]\n\tif id == \"\" {\n\t\thttp.Error(w, \"User ID required\", http.StatusBadRequest)\n\t\treturn\n\t}\n\n\tuser := map[string]string{\n\t\t\"id\":   id,\n\t\t\"name\": \"User \" + id,\n\t}\n\n\tw.Header().Set(\"Content-Type\", \"application/json\")\n\tjson.NewEncoder(w).Encode(user)\n}\n\n",
      "StartLine": 74,
      "EndLine": 93,
      "StartByte": 1799,
      "EndByte": 2216,
      "NodeTypes": [
        "argument_list",
        "binary_expression",
        "block",
        "call_expression",
        "comment",
        "composite_literal",
        "expression_list",
        "expression_statement",
        "field_identifier",
        "func",
        "identifier",
        "if",
        "if_statement",
        "interpreted_string_literal",
        "keyed_element",
        "literal_element",
        "literal_value",
        "map",
        "map_type",
        "method_declaration",
        "package_identifier",
        "parameter_declaration",
        "parameter_list",
        "pointer_type",
        "qualified_type",
        "return",
        "return_statement",
        "selector_expression",
        "short_var_declaration",
        "slice_expression",
        "type_identifier"
      ],
      "Language": "go"
    },
    {
      "Content": "// Start begins listening for HTTP requests\nfunc (s *Server) Start() error {\n\ts.logger.Printf(\"Starting server on %s\", s.addr)\n\tserver := \u0026http.Server{\n\t\tAddr:         s.addr,\n\t\tHandler:      s.router,\n\t\tReadTimeout:  s.timeout,\n\t\tWriteTimeout: s.timeout,\n\t}\n\treturn server.ListenAndServe()\n}\n\n",
      "StartLine": 93,
      "EndLine": 105,
      "StartByte": 2216,
      "EndByte": 2510,
      "NodeTypes": [
        "argument_list",
        "block",
        "call_expression",
        "comment",
        "composite_literal",
        "expression_list",
        "expression_statement",
        "field_identifier",
        "func",
        "identifier",
        "interpreted_string_literal",
        "keyed_element",
        "literal_element",
        "literal_value",
        "method_declaration",
        "package_identifier",
        "parameter_declaration",
        "parameter_list",
        "pointer_type",
        "qualified_type",
        "return",
        "return_statement",
        "selector_expression",
        "short_var_declaration",
        "type_identifier",
        "unary_expression"
      ],
      "Language": "go"
    },
    {
      "Content": "func main() {\n\tserver := NewServer(\":8080\", 30*time.Second)\n\tserver.RegisterRoutes()\n\n\tif err := server.Start(); err != nil {\n\t\tlog.Fatal(err)\n\t}\n}\n",
      "StartLine": 105,
      "EndLine": 113,
      "StartByte": 2510,
      "EndByte": 2658,
      "NodeTypes": [
        "argument_list",
        "binary_expression",
        "block",
        "call_expression",
        "expression_list",
        "expression_statement",
        "field_identifier",
        "func",
        "function_declaration",
        "identifier",
        "if",
        "if_statement",
        "int_literal",
        "interpreted_string_literal",
        "nil",
        "parameter_list",
        "selector_expression",
        "short_var_declaration"
      ],
      "Language": "go"
    }
  ]
}